config:
  target: 'http://localhost:3003'
  phases:
    - duration: 30
      arrivalRate: 500
  processor: './resMenuPost.js'
scenarios:
  - weight: 80/100
    flow:
    - loop:
      - get:
          url: "/API/restaurant/{{ $randomNumber(1, 100000) }}"
      count: 10
  - weight: 19/100
    flow:
    - loop:
      - get:
          url: "/API/restaurant/{{ $randomNumber(1, 10000000) }}"
      count: 10
  - weight: 1/100
    flow:
    - loop:
      - function: "postResMenu"
      - post:
          url: "/API/restaurant"
          json:
            id: "{{ newId }}"
            res_name: "{{ res_name }}"
            top_tags: "{{ top_tags }}"
            cuisine: "{{ cuisine }}"
            review_count: "{{ review_count }}"
            res_info: "{{ res_info }}"
            res_id: "{{ newId }}"
            menu_id: "{{ menu_id }}"
            dish_name: "{{ dish_name }}"
            dish_info: "{{ dish_info }}"
            price: "{{ price }}"
            subMenu_type: "{{ subMenu_type }}"
      count: 1
